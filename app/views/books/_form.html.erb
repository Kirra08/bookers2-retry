<h2>New book</h2>
<% if @book.errors.any? %>
 <%= @book.errors.count %> errors prohibited this obj from being saved:
 <ul>
  <% @book.errors.full_messages.each do |message| %>
   <li><%= message %></li>
   <% end %>
 </ul>
 <% end %>
<%= form_with model: @book, local:true do |f| %>
 <div class="form-group">
  <label for="book_title">Title</label>
  <%= f.text_field :title,class: "form-control book_title" %>
 </div>
 <div class="form-group">
  <label for="book_opinion">Opinion</label>
   <%= f.text_area :body, class: "form-control book_body" %>
 </div>
 
 <div class="form-group">
  <label for="book_tag">Category</label>
   <%= f.text_field :tag, class: "form-control book_tag" %>
 </div>
 
 <div class="form-group row" id="star">
    <%= f.label :star,'Rate ', class:'col-md-3 col-form-label' %>
    <%= f.hidden_field :star, id: :review_star %>
  </div>
  
  <div class="form-group">
   <input type="submit" name="commit" value="Create Book" class="btn btn-success" data-disable-with="Create Book">
  </div>

  <!-- 評価javascript -->
  <script>
  $('#star').raty({
    size     : 30,
    starOff:  '<%= asset_path('star-off.png') %>',
    starHalf : '<%= asset_path('star-half.png') %>',
    starOn : '<%= asset_path('star-on.png') %>',
    half: true,

    scoreName: 'book[star]',
  });
  </script>  
<% end %>